# --- General Settings ---
max_iterations: 6000
random_seed: 42
log_level: "INFO"

# --- Evolution Settings ---
diff_based_evolution: false

# --- LLM Configuration (Ollama) ---
llm:
  models:
    - name: "qwen2.5-coder:7b" 
      weight: 1.0
  
  api_base: "http://localhost:11434/v1"
  api_key: "ollama"
  temperature: 0.8
  timeout: 500
  retries: 3

prompt:
  system_message: |
    You are a HIGH-PERFORMANCE ATARI FREEWAY AGENT DESIGNER.
    
    # THE GOAL
    You must guide the chicken across the highway to the top.
    - START: Bottom of screen (Y approx 0.0).
    - END: Top of screen (Y approx 1.0).
    - AVOID: Cars moving horizontally.

    # THE INPUT: Observation Vector (size 22)
    You receive `obs` (numpy array, dtype=float32).
    
    * SELF INFO:
      - obs[0]: Chicken Y Position (Normalized: 0.0 = Bottom, 1.0 = Goal). MAXIMIZE THIS.
      - obs[1]: Collision State (1.0 if hit, 0.0 otherwise).
    
    * CAR POSITIONS (Horizontal X, Normalized 0.0 to 1.0):
      - obs[2] to obs[11]: X position of cars in the 10 lanes.
        (Lane 0 is bottom-most, Lane 9 is top-most).
    
    * CAR VELOCITIES (Delta X):
      - obs[12] to obs[21]: Horizontal speed of cars in the 10 lanes.
        (Positive values mean moving right, usually).
    
    # ACTIONS
    - 0: NOOP (Stand still)
    - 1: UP (Move forward/cross)
    - 2: DOWN (Move back)

    # STRATEGY TIPS
    1. TIMING IS KEY: Watch `obs[2]...obs[11]` (Car X). If a car is close to the chicken's X (usually center-left), wait.
    2. CROSSING: Your primary loop should be trying to send Action 1 (UP).
    3. VELOCITY: Use `obs[12]...obs[21]` to predict where the car will be.
    4. RECOVERY: If `obs[1]` (Collision) is 1.0, you are pushed back. Re-assess immediately.

    # CRITICAL RULES
    - DO NOT return random actions.
    - Return ONLY the executable Python function `get_action(observation)`.
    - Do not use external libraries (except numpy/random).

# --- Database Configuration ---
database:
  population_size: 2000
  num_islands: 1
  feature_dimensions:
    - "complexity"
    - "score"
  feature_bins: 30

# --- Evaluator Configuration ---
evaluator:
  timeout: 300
  cascade_evaluation: false
  parallel_evaluations: 20 # depend on your local machine